---
layout: post
title: "Beep"
description: "Beep is an Easy rated Linux machine on HTB."
categories: [CTF,HTB]
tags: [Linux,Easy]
author: g
---

## Nmap scan
![Pasted image 20240715105346.png](/images/Pasted image 20240715105346.png){: .normal }

## _**Initial Foothold**_

### SSL issues when connecting
Solve by changing minimum TLS requirement in Firefox.


### Login page
![Pasted image 20240715105338.png](/images/Pasted image 20240715105338.png){: .normal width="600" }



### Exploit Elastix
Craft script from sources.
![Pasted image 20240715105328.png](/images/Pasted image 20240715105328.png){: .normal }


Setup nc listener and execute the script.
![Pasted image 20240715105323.png](/images/Pasted image 20240715105323.png){: .normal }


We get a shell as the Asterisk user:
![Pasted image 20240715105317.png](/images/Pasted image 20240715105317.png){: .normal width="600" }



## _**Privilege Escalation**_
Sudo -l reveals a lot of binaries that can be executed with sudo.
![Pasted image 20240715105307.png](/images/Pasted image 20240715105307.png){: .normal }


We can use GTFObins to become root using Nmap.
![Pasted image 20240715105302.png](/images/Pasted image 20240715105302.png){: .normal }



## User.txt
![Pasted image 20240715105255.png](/images/Pasted image 20240715105255.png){: .normal width="400" }

## Root.txt
![Pasted image 20240715105249.png](/images/Pasted image 20240715105249.png){: .normal width="400" }


## Pwned
![Pasted image 20240715105244.png](/images/Pasted image 20240715105244.png){: .normal }



### Sources
- [TLS](https://support.mozilla.org/en-US/questions/1101896)
- [Elastix exploit](https://www.exploit-db.com/exploits/18650)
- [Elastix exploit v2](https://github.com/infosecjunky/FreePBX-2.10.0---Elastix-2.2.0---Remote-Code-Execution/blob/master/exploit.py)
- [Nmap priv esc](https://gtfobins.github.io/gtfobins/nmap/#sudo)