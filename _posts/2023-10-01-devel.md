---
layout: post
title: "HTB Windows Easy: Devel"
description: "Devel is an Easy rated Windows machine on HTB."
categories: [CTF,HTB]
tags: [Windows,Easy]
author: g
---

## Nmap
![Pasted image 20240714201939.png](/images/Pasted image 20240714201939.png){: .normal }

## _**Initial Foothold**_
### Enumerating FTP (port 21)
Anonymous login is allowed.
![Pasted image 20240714201933.png](/images/Pasted image 20240714201933.png){: .normal width="600" }


Retrieve all files.
![Pasted image 20240714201923.png](/images/Pasted image 20240714201923.png){: .normal }


Nothing interesting can be found in the files, directory busting also doesn't give us any interesting results, maybe we can upload files via ftp?
![Pasted image 20240714201918.png](/images/Pasted image 20240714201918.png){: .normal }


Now we can set up a nc listener and try to execute the file by visiting /shell.aspx.
![Pasted image 20240714201910.png](/images/Pasted image 20240714201910.png){: .normal width="300"}


Our nc listener turned into a shell.
![Pasted image 20240714201904.png](/images/Pasted image 20240714201904.png){: .normal width="600" }



## _**Priv Esc**_
Retrieve and compile exploit (follow exploit-db guide).
![Pasted image 20240714201849.png](/images/Pasted image 20240714201849.png){: .normal width="600" }


Start a Python webserver and get the file on the target host using PowerShell.
![Pasted image 20240714201855.png](/images/Pasted image 20240714201855.png){: .normal }


Run the Python webserver on port 8000.
![Pasted image 20240714201843.png](/images/Pasted image 20240714201843.png){: .normal width="600" }


Run the exploit to catch a privileged administrator reverse shell. Screenshot:
![Pasted image 20240714201833.png](/images/Pasted image 20240714201833.png){: .normal width="350"}


We now have a privileged shell as the nt authority/system user.
![Pasted image 20240714201824.png](/images/Pasted image 20240714201824.png){: .normal width="400"}



## User.txt
![Pasted image 20240714201819.png](/images/Pasted image 20240714201819.png){: .normal width="600" }


## Root.txt
![Pasted image 20240714201814.png](/images/Pasted image 20240714201814.png){: .normal width="500" }


## You have PWNED!!!
![Pasted image 20240714201809.png](/images/Pasted image 20240714201809.png){: .normal }


### Sources
- [ASP rev shell](https://github.com/borjmz/aspx-reverse-shell/blob/master/shell.aspx)
- [Priv-Esc](https://www.exploit-db.com/exploits/40564)